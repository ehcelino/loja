<div class ="container border rounded shadow margins">
    <% flash.each do |key, value| %>
      <div id="notice" class="alert margins alert-<%= key %>"><%= value %></div>
    <% end %>
  
  <div class="container margins">
    <div>
      <%= link_to "Novo produto", new_product_path, class: "btn btn-primary mb-3" %>
    </div>
    <div class="table-responsive">
      <table class="table table-striped table-hover table-sm">
        <thead>
          <tr>
            <th scope="col">Imagem</th>
            <th scope="col">Nome</th>
            <th scope="col">Estoque</th>
            <th scope="col">Valor</th>
            <th scope="col">Status</th>
            <th scope="col">Ações</th>
          </tr>
        </thead>
        <% @products.each do |product| %>
          <tr>
            <td>
              <% if product.images.present? %>
                <%= image_tag product.images[0], class: "resize" %>
              <% end %>
            </td>
            <td>
              <%= product.name %>
            </td>
            <td>
              <%= product.stock %>
            </td>
            <td>
              <%= number_to_currency(product.price, unit: "R$ ", separator: ",", delimiter: ".") %>
            </td>
            <td>
              <% if product.active? %>
                Ativo
              <% else %>
                Inativo
              <% end %>
            </td>
            <td>
              <%= link_to "Ver", product_path(product), class: "btn btn-primary mb-3" %>
              <%= link_to "Editar", edit_product_path(product), class: "btn btn-primary mb-3" %>
              <%= button_to "Excluir", delete_path(product), method: :delete, class: "btn btn-primary mb-3" %>
            </td>
          </tr>
        <% end %>
      </table>
    </div>
  </div>
</div>